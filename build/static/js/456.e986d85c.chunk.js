"use strict";(self.webpackChunkips_app=self.webpackChunkips_app||[]).push([[456],{2806:function(e,n,s){s.d(n,{b:function(){return a}});var a=s(1243).Z.create({baseURL:"http://13.59.240.218"});a.interceptors.request.use((function(e){e.headers["Content-Type"]="application/json",e.headers.Accept="*/*",e.headers["Access-Control-Allow-Origin"]="*",e.headers["Access-Control-Allow-Headers"]="Origin, X-Requested-With, Content-Type, Accept";var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer "+n),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,n,s){s.d(n,{$:function(){return r}});var a=s(3637),i=s(184),r=function(e){var n=e.page,s=e.pageSize,r=e.data,l=e.setPage;return(0,i.jsxs)("div",{className:"row pagin-sec",children:[(0,i.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,i.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(n*s+1," to  ").concat(n*s+r.data.length," of ").concat(r.count," entries")})}),(0,i.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,i.jsx)(a.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:n+1,itemsCountPerPage:s,totalItemsCount:r.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return l(e-1)}})})]})}},7282:function(e,n,s){s.d(n,{p:function(){return o}});var a=s(9439),i=s(2791),r=s(9603),l=s(3360);var t=s.p+"static/media/trash-icon.ee0252a5a11b0d7959d2605f91ec705d.svg",c=s(184),o=function(e){var n=e.onClick,s=(0,i.useState)(!1),o=(0,a.Z)(s,2),d=o[0],u=o[1],h=function(){u(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{className:"action-item",style:{cursor:"pointer"},src:t,onClick:function(){return u(!0)}}),d?(0,c.jsxs)(r.Z,{show:!0,onHide:h,size:"lg",children:[(0,c.jsxs)(r.Z.Header,{closeButton:!1,children:[(0,c.jsx)(r.Z.Title,{children:"Delete"}),(0,c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:h,children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsxs)(r.Z.Body,{children:["Are you sure you want to delete?",(0,c.jsxs)("div",{className:"modal-footer d-flex justify-content-end",children:[(0,c.jsx)(l.Z,{variant:"primary",onClick:function(){u(!1),n()},children:" Yes"}),(0,c.jsx)(l.Z,{variant:"danger",onClick:h,children:"No"})]})]})]}):null]})}},2805:function(e,n,s){s.d(n,{d:function(){return r}});s(2791);var a=s.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",i=s(184),r=function(e){var n=e.onClick;return(0,i.jsx)("img",{style:{cursor:"pointer"},src:a,onClick:n})}},9324:function(e,n,s){s.d(n,{q:function(){return i}});var a=s(184),i=function(e){return 0===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-danger",children:"InActive"}):1===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,a.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},7819:function(e,n,s){s.r(n),s.d(n,{Services:function(){return k}});var a=s(9439),i=s(6403),r=s(2917),l=s(3418),t=s(2791),c=s(2469),o=s(2806),d=s(7883),u=s(7282),h=s(2805),m=s(9324),x=s(9603),j=s(1413),f=s(5705),p=s(8007),v=s(184),g=(0,p.Ry)({name:(0,p.Z_)().required("Name is required")}),b=function(e){var n=e.onSubmit,s=e.initialValues,a=(0,f.TA)({initialValues:s,onSubmit:function(e,s){(0,s.validateForm)(e).then((function(s){e.status?n((0,j.Z)((0,j.Z)({},e),{},{status:parseInt(e.status)})):n(e)}))},validationSchema:g,validateOnBlur:!0,validateOnChange:!1});return(0,v.jsxs)("form",{onSubmit:a.handleSubmit,children:[(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"name",children:"Name *"}),(0,v.jsx)("input",{type:"text",id:"name",value:a.values.name,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Name"}),(0,v.jsx)("div",{className:"invalid-feedback",children:a.errors.name})]})}),(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"minPrice",children:"Min Price"}),(0,v.jsx)("input",{type:"number",id:"minPrice",value:a.values.minPrice,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Min Price"})]})}),(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"maxPrice",children:"Max Price"}),(0,v.jsx)("input",{type:"number",id:"maxPrice",value:a.values.maxPrice,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Max Price"})]})}),(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"defaultPrice",children:"Default Price"}),(0,v.jsx)("input",{type:"number",id:"defaultPrice",value:a.values.defaultPrice,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Default Price"})]})}),(0,v.jsx)("aside",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"handleSlug",children:"Handle Slug"}),(0,v.jsx)("input",{type:"text",id:"handleSlug",value:a.values.handleSlug,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Handle Slug"})]})}),(0,v.jsx)("aside",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"longDescription",children:"Description"}),(0,v.jsx)("textarea",{id:"longDescription",value:a.values.longDescription,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Description"})]})}),(0,v.jsx)("aside",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{htmlFor:"shortDescription",children:"Short Description"}),(0,v.jsx)("textarea",{id:"shortDescription",value:a.values.shortDescription,onChange:a.handleChange,onBlur:a.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Short Description"})]})})]}),(0,v.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,v.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},N=function(e){return o.b.post("/services",e)},C=function(e){var n=e.handleSuccess,s=e.handleClose,a=(0,l.D)({mutationFn:N});return(0,v.jsxs)(x.Z,{show:!0,onHide:s,size:"lg",children:[(0,v.jsxs)(x.Z.Header,{closeButton:!1,children:[(0,v.jsx)(x.Z.Title,{children:"New Service"}),(0,v.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:s,children:(0,v.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,v.jsx)(x.Z.Body,{children:(0,v.jsx)(b,{initialValues:{name:"",description:"",status:""},onSubmit:function(e){a.mutate(e,{onSuccess:n})}})})]})},S=function(e){return o.b.put("/services/".concat(e.id),e)},y=function(e){var n=e.handleSuccess,s=e.handleClose,a=e.id,i=(0,r.a)({queryKey:["service-details",a],queryFn:function(){return function(e){return o.b.get("/services/".concat(e)).then((function(e){return e.data}))}(a)}}),t=i.data,c=(0,l.D)({mutationFn:S});return(0,v.jsx)(v.Fragment,{children:t&&(0,v.jsxs)(x.Z,{show:!0,onHide:s,size:"lg",children:[(0,v.jsxs)(x.Z.Header,{closeButton:!1,children:[(0,v.jsx)(x.Z.Title,{children:"Edit Service"}),(0,v.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:s,children:(0,v.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,v.jsx)(x.Z.Body,{children:(0,v.jsx)(b,{initialValues:t,onSubmit:function(e){c.mutate((0,j.Z)((0,j.Z)({},e),{},{id:a}),{onSuccess:n})}})})]})})},Z=s(4849),P=function(e){return o.b.delete("/services/".concat(e))},k=function(){var e=(0,i.NL)(),n=(0,t.useState)(0),s=(0,a.Z)(n,2),x=s[0],j=s[1],f=(0,t.useState)(!1),p=(0,a.Z)(f,2),g=p[0],b=p[1],N=(0,t.useState)(!1),S=(0,a.Z)(N,2),k=S[0],D=S[1],w=(0,t.useState)(!1),B=(0,a.Z)(w,2),F=B[0],A=B[1],H=(0,t.useState)(),E=(0,a.Z)(H,2),q=E[0],T=E[1],L=(0,r.a)({queryKey:["services",x],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return o.b.get("/services?pageIndex=".concat(e,"&pageSize=").concat(n)).then((function(e){return e.data}))}(x)},keepPreviousData:!0}),z=L.data,M=L.refetch,O=L.isLoading,V=(0,l.D)({mutationFn:P}),I=function(e){return function(){V.mutate(e,{onSuccess:M,onError:function(e){A(!0),setTimeout((function(){A(!1)}),3e3)}})}};return(0,v.jsxs)(v.Fragment,{children:[F?(0,v.jsxs)(c.Z,{variant:"danger",onClose:function(){return F(!1)},children:[(0,v.jsx)(c.Z.Heading,{children:"Server Error!"}),(0,v.jsx)("p",{children:"Can not delete service"})]}):null,(0,v.jsx)("div",{className:"row justify-content-center",children:(0,v.jsxs)("div",{className:"col-12",children:[(0,v.jsxs)("div",{className:"row heading-add",children:[(0,v.jsx)("aside",{className:"col-sm-10",children:(0,v.jsx)("h2",{className:"mb-0 page-title",children:"Services"})}),(0,v.jsx)("aside",{className:"col-sm-2 add-sec",children:(0,v.jsx)("button",{className:"bttn",onClick:function(){b(!0)},children:"Add"})})]}),(0,v.jsx)("div",{className:"row my-2",children:(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsx)("div",{className:"card shadow",children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsxs)("table",{className:"table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Description"}),(0,v.jsx)("th",{children:"Short Description"}),(0,v.jsx)("th",{children:"Min Price"}),(0,v.jsx)("th",{children:"Max Price"}),(0,v.jsx)("th",{children:"Default Price"}),(0,v.jsx)("th",{children:"Handle Slug"}),(0,v.jsx)("th",{children:"Status"}),(0,v.jsx)("th",{children:"Actions"})]})}),(0,v.jsx)("tbody",{children:O?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{rowSpan:"10",colSpan:"9",children:(0,v.jsx)("div",{className:"text-center py-5",children:(0,v.jsx)(Z.Z,{animation:"border"})})})}):z.data.map((function(e){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:e.name}),(0,v.jsxs)("td",{children:[" ",e.longDescription]}),(0,v.jsxs)("td",{children:[" ",e.shortDescription]}),(0,v.jsxs)("td",{children:[" ",e.minPrice]}),(0,v.jsxs)("td",{children:[" ",e.maxPrice]}),(0,v.jsxs)("td",{children:[" ",e.defaultPrice]}),(0,v.jsxs)("td",{children:[" ",e.handleSlug]}),(0,v.jsx)("td",{children:(0,v.jsx)(m.q,{code:e.status})}),(0,v.jsxs)("td",{className:"actions",children:[(0,v.jsx)(h.d,{onClick:(n=e.id,function(){T(n),D(!0)})}),(0,v.jsx)(u.p,{onClick:I(e.id)})]})]},e.id);var n}))})]}),O?null:(0,v.jsx)(d.$,{page:x,pageSize:20,data:z,setPage:j})]})})})})]})}),g?(0,v.jsx)(C,{handleSuccess:function(){b(!1),M()},handleClose:function(){return b(!1)}}):null,k?(0,v.jsx)(y,{handleSuccess:function(){e.invalidateQueries({queryKey:["service-details",q]}),D(!1),M()},handleClose:function(){return D(!1)},id:q}):null]})}},2469:function(e,n,s){var a=s(1413),i=s(5987),r=s(1694),l=s.n(r),t=s(2791),c=s(239),o=s(9007),d=s(6445),u=s(162),h=s(4418),m=s(473),x=s(7472),j=s(6543),f=s(184),p=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],v=(0,x.Z)("h4");v.displayName="DivStyledAsH4";var g=(0,j.Z)("alert-heading",{Component:v}),b=(0,j.Z)("alert-link",{Component:d.Z}),N={variant:"primary",show:!0,transition:h.Z,closeLabel:"Close alert"},C=t.forwardRef((function(e,n){var s=(0,c.Ch)(e,{show:"onClose"}),r=s.bsPrefix,t=s.show,d=s.closeLabel,x=s.closeVariant,j=s.className,v=s.children,g=s.variant,b=s.onClose,N=s.dismissible,C=s.transition,S=(0,i.Z)(s,p),y=(0,u.vE)(r,"alert"),Z=(0,o.Z)((function(e){b&&b(!1,e)})),P=!0===C?h.Z:C,k=(0,f.jsxs)("div",(0,a.Z)((0,a.Z)({role:"alert"},P?void 0:S),{},{ref:n,className:l()(j,y,g&&"".concat(y,"-").concat(g),N&&"".concat(y,"-dismissible")),children:[N&&(0,f.jsx)(m.Z,{onClick:Z,"aria-label":d,variant:x}),v]}));return P?(0,f.jsx)(P,(0,a.Z)((0,a.Z)({unmountOnExit:!0},S),{},{ref:void 0,in:t,children:k})):t?k:null}));C.displayName="Alert",C.defaultProps=N,n.Z=Object.assign(C,{Link:b,Heading:g})}}]);
//# sourceMappingURL=456.e986d85c.chunk.js.map