"use strict";(self.webpackChunkips_app=self.webpackChunkips_app||[]).push([[819],{2806:function(e,n,a){a.d(n,{b:function(){return s}});var s=a(1243).Z.create({baseURL:"http://13.59.240.218"});s.interceptors.request.use((function(e){e.headers["Content-Type"]="application/json",e.headers.Accept="*/*",e.headers["Access-Control-Allow-Origin"]="*",e.headers["Access-Control-Allow-Headers"]="Origin, X-Requested-With, Content-Type, Accept";var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer "+n),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7883:function(e,n,a){a.d(n,{$:function(){return r}});var s=a(3637),i=a(184),r=function(e){var n=e.page,a=e.pageSize,r=e.data,t=e.setPage;return(0,i.jsxs)("div",{className:"row pagin-sec",children:[(0,i.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,i.jsx)("div",{className:"dataTables_info",role:"status","aria-live":"polite",children:"Showing ".concat(n*a+1," to  ").concat(n*a+r.data.length," of ").concat(r.count," entries")})}),(0,i.jsx)("div",{className:"col-sm-12 col-md-7",style:{display:"flex",justifyContent:"flex-end"},children:(0,i.jsx)(s.Z,{itemClass:"page-item",prevPageText:"Previous",nextPageText:"Next",linkClass:"page-link",activePage:n+1,itemsCountPerPage:a,totalItemsCount:r.count,pageRangeDisplayed:5,hideFirstLastPages:!0,onChange:function(e){return t(e-1)}})})]})}},7282:function(e,n,a){a.d(n,{p:function(){return o}});var s=a(9439),i=a(2791),r=a(9603),t=a(3360);var l=a.p+"static/media/trash-icon.ee0252a5a11b0d7959d2605f91ec705d.svg",c=a(184),o=function(e){var n=e.onClick,a=(0,i.useState)(!1),o=(0,s.Z)(a,2),d=o[0],u=o[1],h=function(){u(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{className:"action-item",style:{cursor:"pointer"},src:l,onClick:function(){return u(!0)}}),d?(0,c.jsxs)(r.Z,{show:!0,onHide:h,size:"lg",children:[(0,c.jsxs)(r.Z.Header,{closeButton:!1,children:[(0,c.jsx)(r.Z.Title,{children:"Delete"}),(0,c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:h,children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsxs)(r.Z.Body,{children:["Are you sure you want to delete?",(0,c.jsxs)("div",{className:"modal-footer d-flex justify-content-end",children:[(0,c.jsx)(t.Z,{variant:"primary",onClick:function(){u(!1),n()},children:" Yes"}),(0,c.jsx)(t.Z,{variant:"danger",onClick:h,children:"No"})]})]})]}):null]})}},2805:function(e,n,a){a.d(n,{d:function(){return r}});a(2791);var s=a.p+"static/media/edit-icon.99f293607452e6df8a5fe12a6b47b2b0.svg",i=a(184),r=function(e){var n=e.onClick;return(0,i.jsx)("img",{style:{cursor:"pointer"},src:s,onClick:n})}},9324:function(e,n,a){a.d(n,{q:function(){return i}});var s=a(184),i=function(e){return 0===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-danger",children:"InActive"}):1===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-success",children:"Active"}):2===e.code?(0,s.jsx)("span",{className:"badge badge-pill badge-warning",children:"Hold"}):void 0}},819:function(e,n,a){a.r(n),a.d(n,{PoojaGroceries:function(){return w}});var s=a(9439),i=a(6403),r=a(2917),t=a(3418),l=a(2791),c=a(2469),o=a(4849),d=a(2806),u=a(7883),h=a(7282),m=a(2805),x=a(9324),j=a(9603),p=a(1413),f=a(5705),v=a(8007),g=a(184),b=(0,v.Ry)({name:(0,v.Z_)().required("Name is required")}),y=function(e){var n=e.onSubmit,a=e.initialValues,s=(0,f.TA)({initialValues:a,onSubmit:function(e,a){(0,a.validateForm)(e).then((function(a){e.status?n((0,p.Z)((0,p.Z)({},e),{},{status:parseInt(e.status)})):n(e)}))},validationSchema:b,validateOnBlur:!0,validateOnChange:!1});return(0,g.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("aside",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"name",children:"Name *"}),(0,g.jsx)("input",{type:"text",id:"name",value:s.values.name,onChange:s.handleChange,onBlur:s.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Name"}),(0,g.jsx)("div",{className:"invalid-feedback",children:s.errors.name})]})}),(0,g.jsx)("aside",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"quantityType",children:"Quantity Type"}),(0,g.jsxs)("select",{id:"quantityType",className:"form-control select2",value:s.values.quantityType,onChange:s.handleChange,onBlur:s.handleBlur,children:[(0,g.jsx)("option",{value:"",children:"Select Quantity Type"}),(0,g.jsx)("option",{value:"Grams",children:"Gms"}),(0,g.jsx)("option",{value:"MilliLitres",children:"ML"}),(0,g.jsx)("option",{value:"Count",children:"Count"})]}),(0,g.jsx)("div",{className:"invalid-feedback",children:s.errors.name})]})}),(0,g.jsx)("aside",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"quantity",children:" Quantity"}),(0,g.jsx)("input",{type:"number",id:"quantity",value:s.values.quantity,onChange:s.handleChange,onBlur:s.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Quantity"}),(0,g.jsx)("div",{className:"invalid-feedback",children:s.errors.quantity})]})}),(0,g.jsx)("aside",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"volume",children:"Volume"}),(0,g.jsx)("input",{type:"text",id:"volume",value:s.values.volume,onChange:s.handleChange,onBlur:s.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Volume"}),(0,g.jsx)("div",{className:"invalid-feedback",children:s.errors.volume})]})}),(0,g.jsx)("aside",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"price",children:"Price"}),(0,g.jsx)("input",{type:"number",id:"price",value:s.values.price,onChange:s.handleChange,onBlur:s.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Price"}),(0,g.jsx)("div",{className:"invalid-feedback",children:s.errors.price})]})}),(0,g.jsx)("aside",{className:"col-md-12",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"description",children:"Description"}),(0,g.jsx)("textarea",{id:"description",value:s.values.description,onChange:s.handleChange,onBlur:s.handleBlur,className:"form-control form-control-lg",placeholder:"Enter Description"}),(0,g.jsx)("div",{className:"invalid-feedback",children:s.errors.description})]})})]}),(0,g.jsx)("div",{className:"modal-footer d-flex justify-content-end",children:(0,g.jsx)("button",{type:"submit",className:"btn mb-2 btn-primary",children:"Save"})})]})},N=function(e){return d.b.post("/groceries",e)},C=function(e){var n=e.handleSuccess,a=e.handleClose,s=(0,t.D)({mutationFn:N});return(0,g.jsxs)(j.Z,{show:!0,onHide:a,size:"lg",children:[(0,g.jsxs)(j.Z.Header,{closeButton:!1,children:[(0,g.jsx)(j.Z.Title,{children:"New Pooja Grocery"}),(0,g.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a,children:(0,g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,g.jsx)(j.Z.Body,{children:(0,g.jsx)(y,{initialValues:{name:"",description:"",quantityType:""},onSubmit:function(e){s.mutate(e,{onSuccess:n})}})})]})},Z=function(e){return d.b.put("/groceries/".concat(e.id),e)},S=function(e){var n=e.handleSuccess,a=e.handleClose,s=e.id,i=(0,r.a)({queryKey:["grocery-details",s],queryFn:function(){return function(e){return d.b.get("/groceries/".concat(e)).then((function(e){return e.data}))}(s)}}),l=i.data,c=(i.error,(0,t.D)({mutationFn:Z}));return(0,g.jsx)(g.Fragment,{children:l&&(0,g.jsxs)(j.Z,{show:!0,onHide:a,size:"lg",children:[(0,g.jsxs)(j.Z.Header,{closeButton:!1,children:[(0,g.jsx)(j.Z.Title,{children:"Edit Pooja Grocery"}),(0,g.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:a,children:(0,g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,g.jsx)(j.Z.Body,{children:(0,g.jsx)(y,{initialValues:l,onSubmit:function(e){c.mutate((0,p.Z)((0,p.Z)({},e),{},{id:s}),{onSuccess:n})}})})]})})},k=function(e){return d.b.delete("/groceries/".concat(e))},w=function(){var e=(0,i.NL)(),n=(0,l.useState)(0),a=(0,s.Z)(n,2),j=a[0],p=a[1],f=(0,l.useState)(!1),v=(0,s.Z)(f,2),b=v[0],y=v[1],N=(0,l.useState)(!1),Z=(0,s.Z)(N,2),w=Z[0],P=Z[1],q=(0,l.useState)(!1),B=(0,s.Z)(q,2),T=B[0],F=B[1],A=(0,l.useState)(),E=(0,s.Z)(A,2),H=E[0],D=E[1],L=(0,l.useState)(""),V=(0,s.Z)(L,2),z=(V[0],V[1],(0,r.a)({queryKey:["pooja-groceries",j],queryFn:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return d.b.get("/groceries?pageIndex=".concat(e,"&pageSize=").concat(n)).then((function(e){return e.data}))}(j)},keepPreviousData:!0})),Q=z.isLoading,G=(z.isError,z.error,z.data),O=(z.isFetching,z.refetch),I=(0,t.D)({mutationFn:k}),R=function(e){return function(){I.mutate(e,{onSuccess:O,onError:function(e){F(!0),setTimeout((function(){F(!1)}),3e3)}})}};return(0,g.jsxs)(g.Fragment,{children:[T?(0,g.jsxs)(c.Z,{variant:"danger",onClose:function(){return T(!1)},children:[(0,g.jsx)(c.Z.Heading,{children:"Server Error!"}),(0,g.jsx)("p",{children:"Can not delete pooja grocery"})]}):null,(0,g.jsx)("div",{className:"row justify-content-center",children:(0,g.jsxs)("div",{className:"col-12",children:[(0,g.jsxs)("div",{className:"row heading-add",children:[(0,g.jsx)("aside",{className:"col-sm-10",children:(0,g.jsx)("h2",{className:"mb-0 page-title",children:"Pooja Grocery"})}),(0,g.jsx)("aside",{className:"col-sm-2 add-sec",children:(0,g.jsx)("button",{className:"bttn",onClick:function(){y(!0)},children:"Add"})})]}),(0,g.jsx)("div",{className:"row my-2",children:(0,g.jsx)("div",{className:"col-md-12",children:(0,g.jsx)("div",{className:"card shadow",children:(0,g.jsxs)("div",{className:"card-body",children:[(0,g.jsxs)("table",{className:"table",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Description"}),(0,g.jsx)("th",{children:"Quantity Type"}),(0,g.jsx)("th",{children:"Quantity"}),(0,g.jsx)("th",{children:"Volume"}),(0,g.jsx)("th",{children:"Price"}),(0,g.jsx)("th",{children:"Status"}),(0,g.jsx)("th",{children:"Actions"})]})}),(0,g.jsx)("tbody",{children:Q?(0,g.jsx)("tr",{children:(0,g.jsx)("td",{rowSpan:"10",colSpan:"7",children:(0,g.jsx)("div",{className:"text-center py-5",children:(0,g.jsx)(o.Z,{animation:"border"})})})}):G.data.map((function(e){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.name}),(0,g.jsxs)("td",{children:[" ",e.description]}),(0,g.jsx)("td",{children:e.quantityType}),(0,g.jsx)("td",{children:e.quantity}),(0,g.jsx)("td",{children:e.volume}),(0,g.jsx)("td",{children:e.price}),(0,g.jsx)("td",{children:(0,g.jsx)(x.q,{code:e.status})}),(0,g.jsxs)("td",{className:"actions",children:[(0,g.jsx)(m.d,{onClick:(n=e.id,function(){D(n),P(!0)})}),(0,g.jsx)(h.p,{onClick:R(e.id)})]})]},e.id);var n}))})]}),Q?null:(0,g.jsx)(u.$,{page:j,pageSize:20,data:G,setPage:p})]})})})})]})}),b?(0,g.jsx)(C,{handleSuccess:function(){y(!1),O()},handleClose:function(){return y(!1)}}):null,w?(0,g.jsx)(S,{handleSuccess:function(){e.invalidateQueries({queryKey:["grocery-details",H]}),P(!1),O()},handleClose:function(){return P(!1)},id:H}):null]})}},2469:function(e,n,a){var s=a(1413),i=a(5987),r=a(1694),t=a.n(r),l=a(2791),c=a(239),o=a(9007),d=a(6445),u=a(162),h=a(4418),m=a(473),x=a(7472),j=a(6543),p=a(184),f=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],v=(0,x.Z)("h4");v.displayName="DivStyledAsH4";var g=(0,j.Z)("alert-heading",{Component:v}),b=(0,j.Z)("alert-link",{Component:d.Z}),y={variant:"primary",show:!0,transition:h.Z,closeLabel:"Close alert"},N=l.forwardRef((function(e,n){var a=(0,c.Ch)(e,{show:"onClose"}),r=a.bsPrefix,l=a.show,d=a.closeLabel,x=a.closeVariant,j=a.className,v=a.children,g=a.variant,b=a.onClose,y=a.dismissible,N=a.transition,C=(0,i.Z)(a,f),Z=(0,u.vE)(r,"alert"),S=(0,o.Z)((function(e){b&&b(!1,e)})),k=!0===N?h.Z:N,w=(0,p.jsxs)("div",(0,s.Z)((0,s.Z)({role:"alert"},k?void 0:C),{},{ref:n,className:t()(j,Z,g&&"".concat(Z,"-").concat(g),y&&"".concat(Z,"-dismissible")),children:[y&&(0,p.jsx)(m.Z,{onClick:S,"aria-label":d,variant:x}),v]}));return k?(0,p.jsx)(k,(0,s.Z)((0,s.Z)({unmountOnExit:!0},C),{},{ref:void 0,in:l,children:w})):l?w:null}));N.displayName="Alert",N.defaultProps=y,n.Z=Object.assign(N,{Link:b,Heading:g})}}]);
//# sourceMappingURL=819.3c4a5cbe.chunk.js.map